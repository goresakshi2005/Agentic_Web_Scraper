Directory structure:
â””â”€â”€ Python tasks/
    â”œâ”€â”€ agent_scraper.py
    â”œâ”€â”€ backend/
    â”‚   â”œâ”€â”€ db.sqlite3
    â”‚   â”œâ”€â”€ manage.py
    â”‚   â”œâ”€â”€ requirements.txt
    â”‚   â”œâ”€â”€ backend/
    â”‚   â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”‚   â”œâ”€â”€ asgi.py
    â”‚   â”‚   â”œâ”€â”€ settings.py
    â”‚   â”‚   â”œâ”€â”€ urls.py
    â”‚   â”‚   â””â”€â”€ wsgi.py
    â”‚   â””â”€â”€ scraper/
    â”‚       â”œâ”€â”€ __init__.py
    â”‚       â”œâ”€â”€ admin.py
    â”‚       â”œâ”€â”€ apps.py
    â”‚       â”œâ”€â”€ models.py
    â”‚       â”œâ”€â”€ serializers.py
    â”‚       â”œâ”€â”€ tests.py
    â”‚       â”œâ”€â”€ urls.py
    â”‚       â”œâ”€â”€ views.py
    â”‚       â”œâ”€â”€ management/
    â”‚       â”‚   â””â”€â”€ commands/
    â”‚       â”‚       â””â”€â”€ cleanup_expired.py
    â”‚       â””â”€â”€ migrations/
    â”‚           â”œâ”€â”€ 0001_initial.py
    â”‚           â””â”€â”€ __init__.py
    â””â”€â”€ frontend/
        â”œâ”€â”€ README.md
        â”œâ”€â”€ eslint.config.js
        â”œâ”€â”€ index.html
        â”œâ”€â”€ package.json
        â”œâ”€â”€ vite.config.js
        â””â”€â”€ src/
            â”œâ”€â”€ App.css
            â”œâ”€â”€ App.jsx
            â”œâ”€â”€ index.css
            â””â”€â”€ main.jsx

================================================
FILE: agent_scraper.py
================================================
import os
import time
import requests
from bs4 import BeautifulSoup
from duckduckgo_search import DDGS  # only import DDGS
import google.generativeai as genai
from dotenv import load_dotenv

load_dotenv()

GEMINI_API_KEY = os.getenv("GOOGLE_API_KEY")
if not GEMINI_API_KEY:
    raise ValueError("GEMINI_API_KEY not found in environment variables")

genai.configure(api_key=GEMINI_API_KEY)
model = genai.GenerativeModel('gemini-2.5-flash')

def search_duckduckgo(query, max_results=5, retries=3):
    """Return a list of URLs, with retry logic on rate limit."""
    urls = []
    for attempt in range(retries):
        try:
            with DDGS() as ddgs:
                for r in ddgs.text(query, max_results=max_results):
                    urls.append(r['href'])
            break  # success
        except Exception as e:
            error_str = str(e)
            if "Ratelimit" in error_str and attempt < retries - 1:
                wait = 2 ** (attempt + 1)  # exponential backoff: 2, 4, 8 seconds
                print(f"Rate limited. Retrying in {wait} seconds...")
                time.sleep(wait)
            else:
                print(f"DuckDuckGo search failed: {e}")
                return []
    return urls

def scrape_text(url, char_limit=5000):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
    }
    try:
        response = requests.get(url, headers=headers, timeout=10)
        response.raise_for_status()
        soup = BeautifulSoup(response.text, 'html.parser')
        for tag in soup(['script', 'style', 'nav', 'footer', 'header', 'aside']):
            tag.decompose()
        text = soup.get_text(separator=' ', strip=True)
        return text[:char_limit]
    except Exception as e:
        print(f"Error scraping {url}: {e}")
        return ""

def get_depth_params(level):
    level = level.lower()
    if level == 'less':
        return 3, 5000, (
            "Provide a brief, high-level overview suitable for a beginner. "
            "Include only the most essential facts. Use simple language."
        )
    elif level == 'medium':
        return 10, 10000, (
            "Give a balanced summary with moderate detail. Cover the key points, "
            "main concepts, and important details. Assume the reader has basic familiarity."
        )
    elif level == 'high':
        return 15, 20000, (
            "Provide a comprehensive and in-depth explanation. Include all significant aspects, "
            "technical details, historical context, applications, and any nuances. "
            "Assume the reader wants a thorough understanding."
        )
    else:
        return 10, 10000, "Provide a clear, informative summary."

def summarize_with_gemini(text, topic, depth_instruction):
    prompt = f"""
You are an expert summarizer. Create a summary about "{topic}" based on the web content below.

Depth requirement: {depth_instruction}

Format the summary in **Markdown**. Use headings, bullet points, or bold text where appropriate to make it easy to read.

Web content:
{text}
"""
    response = model.generate_content(prompt)
    return response.text

def main():
    print("=== Agentic Web Scraper + Summarizer ===")
    topic = input("Enter a topic: ").strip()
    if not topic:
        print("No topic provided.")
        return

    depth = input("Choose depth (less/medium/high): ").strip().lower()
    if depth not in ['less', 'medium', 'high']:
        print("Invalid depth. Defaulting to 'medium'.")
        depth = 'medium'

    num_results, char_limit, instruction = get_depth_params(depth)

    print(f"\nğŸ” Searching DuckDuckGo for '{topic}' (depth: {depth})...")
    urls = search_duckduckgo(topic, max_results=num_results)
    if not urls:
        print("No search results found or search failed. Try again later.")
        return

    print(f"Found {len(urls)} pages. Scraping content (up to {char_limit} chars per page)...")
    all_text = ""
    for i, url in enumerate(urls, 1):
        print(f"  [{i}] {url}")
        page_text = scrape_text(url, char_limit=char_limit)
        if page_text:
            all_text += f"\n\n--- Content from {url} ---\n{page_text}"
        time.sleep(1)  # be polite

    if not all_text.strip():
        print("No readable content could be extracted.")
        return

    print("\nğŸ§  Sending to Gemini for summarization...")
    summary = summarize_with_gemini(all_text, topic, instruction)

    print("\n" + "="*60)
    print("ğŸ“„ SUMMARY (Markdown format)".center(60))
    print("="*60)
    print(summary)

if __name__ == "__main__":
    main()


================================================
FILE: backend/db.sqlite3
================================================
[Non-text file]


================================================
FILE: backend/manage.py
================================================
#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'backend.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()



================================================
FILE: backend/requirements.txt
================================================
Django==5.0.6
djangorestframework==3.15.1
django-cors-headers==4.3.1
python-dotenv==1.0.1
requests==2.31.0
beautifulsoup4==4.12.3
duckduckgo-search==5.2.1
google-generativeai==0.5.4
tavily-python


================================================
FILE: backend/backend/__init__.py
================================================



================================================
FILE: backend/backend/asgi.py
================================================
"""
ASGI config for backend project.

It exposes the ASGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.1/howto/deployment/asgi/
"""

import os

from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'backend.settings')

application = get_asgi_application()



================================================
FILE: backend/backend/settings.py
================================================
import os
from pathlib import Path
from dotenv import load_dotenv

load_dotenv()

BASE_DIR = Path(__file__).resolve().parent.parent

SECRET_KEY = 'django-insecure-your-secret-key-here'  # Change in production
DEBUG = True
ALLOWED_HOSTS = []

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'rest_framework',
    'corsheaders',
    'scraper',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'corsheaders.middleware.CorsMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'backend.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'backend.wsgi.application'

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}

AUTH_PASSWORD_VALIDATORS = [...]

LANGUAGE_CODE = 'en-us'
TIME_ZONE = 'UTC'
USE_I18N = True
USE_TZ = True

STATIC_URL = 'static/'
DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

# CORS: allow frontend (Vite default port 5173)
CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",
]

# REST Framework settings (optional)
REST_FRAMEWORK = {
    'DEFAULT_RENDERER_CLASSES': (
        'rest_framework.renderers.JSONRenderer',
    )
}


================================================
FILE: backend/backend/urls.py
================================================
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include('scraper.urls')),
]


================================================
FILE: backend/backend/wsgi.py
================================================
"""
WSGI config for backend project.

It exposes the WSGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.1/howto/deployment/wsgi/
"""

import os

from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'backend.settings')

application = get_wsgi_application()



================================================
FILE: backend/scraper/__init__.py
================================================



================================================
FILE: backend/scraper/admin.py
================================================
from django.contrib import admin

# Register your models here.



================================================
FILE: backend/scraper/apps.py
================================================
from django.apps import AppConfig


class ScraperConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'scraper'



================================================
FILE: backend/scraper/models.py
================================================
from django.db import models

class SearchRecord(models.Model):
    DEPTH_CHOICES = [
        ('less', 'Less'),
        ('medium', 'Medium'),
        ('high', 'High'),
    ]
    topic = models.CharField(max_length=255)
    depth = models.CharField(max_length=10, choices=DEPTH_CHOICES)
    summary = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        unique_together = ('topic', 'depth')  # one record per topic+depth

    def __str__(self):
        return f"{self.topic} ({self.depth}) - {self.created_at}"


================================================
FILE: backend/scraper/serializers.py
================================================
from rest_framework import serializers
from .models import SearchRecord

class SearchSerializer(serializers.Serializer):
    topic = serializers.CharField(max_length=255)
    depth = serializers.ChoiceField(choices=['less', 'medium', 'high'])

class SearchResultSerializer(serializers.ModelSerializer):
    class Meta:
        model = SearchRecord
        fields = ['topic', 'depth', 'summary', 'created_at']


================================================
FILE: backend/scraper/tests.py
================================================
from django.test import TestCase

# Create your tests here.



================================================
FILE: backend/scraper/urls.py
================================================
from django.urls import path
from .views import SearchView

urlpatterns = [
    path('search/', SearchView.as_view(), name='search'),
]


================================================
FILE: backend/scraper/views.py
================================================
import os
from tavily import TavilyClient
import google.generativeai as genai
from django.utils import timezone
from datetime import timedelta
from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework import status
from .models import SearchRecord
from .serializers import SearchSerializer, SearchResultSerializer
from dotenv import load_dotenv

load_dotenv()

# Initialize Clients
TAVILY_API_KEY = os.getenv("TAVILY_API_KEY")
tavily = TavilyClient(api_key=TAVILY_API_KEY)

genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
gemini_model = genai.GenerativeModel('gemini-2.5-flash')

def get_depth_params(level):
    """Map depth levels to Tavily and Gemini instructions."""
    level = level.lower()
    if level == 'less':
        return 3, "basic", "Brief, high-level overview. Essential facts only."
    elif level == 'medium':
        return 6, "advanced", "Balanced summary, moderate detail, key concepts."
    elif level == 'high':
        return 10, "advanced", "Comprehensive, technical details, historical context, and nuances."
    return 5, "basic", "Clear, informative summary."

class SearchView(APIView):
    def post(self, request):
        serializer = SearchSerializer(data=request.data)
        if not serializer.is_valid():
            return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

        topic = serializer.validated_data['topic']
        depth = serializer.validated_data['depth']

        # 1. Check for fresh record (4 days)
        expiry_date = timezone.now() - timedelta(days=4)
        try:
            record = SearchRecord.objects.get(topic=topic, depth=depth, created_at__gte=expiry_date)
            return Response(SearchResultSerializer(record).data)
        except SearchRecord.DoesNotExist:
            pass

        # 2. Search and Scrape using Tavily
        max_results, tavily_depth, instruction = get_depth_params(depth)
        
        try:
            print(f"Ã°Å¸Å¡â‚¬ Tavily searching: {topic}")
            # include_answer=True gives a quick AI summary from Tavily
            # search_depth="advanced" is better for technical topics
            search_result = tavily.search(
                query=topic, 
                search_depth=tavily_depth, 
                max_results=max_results,
                include_raw_content=True # This replaces BeautifulSoup scraping
            )
        except Exception as e:
            return Response({"error": f"Tavily search failed: {str(e)}"}, status=status.HTTP_503_SERVICE_UNAVAILABLE)

        # 3. Process Content
        context_text = ""
        for result in search_result['results']:
            # Tavily provides clean 'content' and 'raw_content'
            content = result.get('raw_content') or result.get('content')
            context_text += f"\n\nSource: {result['url']}\nContent: {content}"

        if not context_text.strip():
            return Response({"error": "No content found for this topic."}, status=status.HTTP_404_NOT_FOUND)

        # 4. Summarize with Gemini
        prompt = f"""
        You are an expert researcher. Use the following web content to write a summary about "{topic}".
        
        Requirement: {instruction}
        Format: Markdown (use headings and bullets).
        
        Web Content:
        {context_text}
        """
        
        try:
            response = gemini_model.generate_content(prompt)
            summary = response.text
        except Exception as e:
            return Response({"error": f"AI failed: {str(e)}"}, status=status.HTTP_500_INTERNAL_SERVER_ERROR)

        # 5. Save and Return
        obj, _ = SearchRecord.objects.update_or_create(
            topic=topic, depth=depth,
            defaults={'summary': summary, 'created_at': timezone.now()}
        )

        return Response(SearchResultSerializer(obj).data, status=status.HTTP_201_CREATED)


================================================
FILE: backend/scraper/management/commands/cleanup_expired.py
================================================
from django.core.management.base import BaseCommand
from django.utils import timezone
from datetime import timedelta
from scraper.models import SearchRecord

class Command(BaseCommand):
    help = 'Delete search records older than 4 days'

    def handle(self, *args, **options):
        cutoff = timezone.now() - timedelta(days=4)
        deleted, _ = SearchRecord.objects.filter(created_at__lt=cutoff).delete()
        self.stdout.write(f"Deleted {deleted} expired records.")


================================================
FILE: backend/scraper/migrations/0001_initial.py
================================================
# Generated by Django 5.0.6 on 2026-02-21 08:49

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='SearchRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('topic', models.CharField(max_length=255)),
                ('depth', models.CharField(choices=[('less', 'Less'), ('medium', 'Medium'), ('high', 'High')], max_length=10)),
                ('summary', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'unique_together': {('topic', 'depth')},
            },
        ),
    ]



================================================
FILE: backend/scraper/migrations/__init__.py
================================================



================================================
FILE: frontend/README.md
================================================
# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend using TypeScript with type-aware lint rules enabled. Check out the [TS template](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) for information on how to integrate TypeScript and [`typescript-eslint`](https://typescript-eslint.io) in your project.



================================================
FILE: frontend/eslint.config.js
================================================
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])



================================================
FILE: frontend/index.html
================================================
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>



================================================
FILE: frontend/package.json
================================================
{
  "name": "frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@tailwindcss/vite": "^4.2.0",
    "axios": "^1.13.5",
    "clsx": "^2.1.1",
    "framer-motion": "^12.34.3",
    "lucide-react": "^0.575.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-markdown": "^10.1.0",
    "tailwind-merge": "^3.5.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@tailwindcss/typography": "^0.5.19",
    "@types/react": "^19.2.7",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "autoprefixer": "^10.4.24",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^4.2.0",
    "vite": "^7.3.1"
  }
}



================================================
FILE: frontend/vite.config.js
================================================
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite' // Add this

export default defineConfig({
  plugins: [
    react(),
    tailwindcss(), // Add this
  ],
  server: {
    proxy: {
      '/api': 'http://localhost:8000'
    }
  }
})


================================================
FILE: frontend/src/App.css
================================================
/* frontend/src/App.css */
:root {
  --bg-dark: #0b0f1a;
  --card-bg: #161b2c;
  --accent-blue: #3b82f6;
  --accent-purple: #8b5cf6;
  --text-main: #e2e8f0;
  --sidebar-width: 260px;
}

.app-container {
  display: flex;
  min-height: 100vh;
  width: 100vw;
  background-color: var(--bg-dark);
  color: var(--text-main);
}

/* --- SIDEBAR --- */
.sidebar {
  width: var(--sidebar-width);
  background: rgba(22, 27, 44, 0.8);
  backdrop-filter: blur(12px);
  border-right: 1px solid rgba(255, 255, 255, 0.05);
  padding: 2rem 1.2rem;
  display: flex;
  flex-direction: column;
  position: sticky;
  top: 0;
  height: 100vh;
}

.sidebar h3 {
  font-size: 0.8rem;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  margin-bottom: 1.5rem;
}

.history-list {
  flex-grow: 1;
  overflow-y: auto;
}

.history-item {
  background: rgba(255, 255, 255, 0.03);
  padding: 0.8rem 1rem;
  border-radius: 10px;
  margin-bottom: 0.6rem;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid transparent;
  font-size: 0.95rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.history-item:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: var(--accent-blue);
  color: white;
}

.clear-btn {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.2);
  padding: 0.6rem;
  border-radius: 8px;
  font-size: 0.85rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
}

/* --- MAIN CONTENT --- */
.main-content {
  flex-grow: 1;
  padding: 4rem 2rem;
  max-width: 900px;
  margin: 0 auto;
}

.header-title {
  font-size: 3.5rem;
  font-weight: 800;
  text-align: center;
  margin: 0 0 0.5rem 0;
  background: linear-gradient(90deg, #4facfe 0%, #00f2fe 45%, #7062f5 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -0.02em;
}

.header-subtitle {
  text-align: center;
  color: #64748b;
  margin-bottom: 3.5rem;
  font-size: 1.1rem;
}

/* --- SEARCH BAR --- */
.search-container {
  background: var(--card-bg);
  padding: 0.6rem;
  border-radius: 16px;
  display: flex;
  gap: 0.8rem;
  box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.08);
  margin-bottom: 3rem;
}

.search-input-wrapper {
  flex-grow: 1;
  display: flex;
  align-items: center;
  padding-left: 1.2rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
}

.search-input-wrapper input {
  background: transparent;
  border: none;
  color: white;
  padding: 1rem;
  width: 100%;
  font-size: 1rem;
  outline: none;
}

.depth-select {
  background: rgba(255, 255, 255, 0.05);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 0 1rem;
  cursor: pointer;
  font-weight: 500;
}

.research-btn {
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
  color: white;
  border: none;
  border-radius: 12px;
  padding: 0 1.8rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  cursor: pointer;
  transition: transform 0.2s;
}

.research-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  filter: brightness(1.1);
}

/* --- RESULTS --- */
.result-card {
  background: var(--card-bg);
  border-radius: 24px;
  padding: 3rem;
  border: 1px solid rgba(255, 255, 255, 0.05);
  animation: slideUp 0.5s ease-out;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.spinner {
  animation: rotate 1s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.markdown-body {
  line-height: 1.8;
  color: #cbd5e1;
  font-size: 1.05rem;
}

.markdown-body h1, .markdown-body h2 { color: white; margin-top: 2rem; }
.markdown-body ul { padding-left: 1.5rem; }
.markdown-body li { margin-bottom: 0.5rem; }


================================================
FILE: frontend/src/App.jsx
================================================
import { useState, useEffect } from 'react';
import axios from 'axios';
import ReactMarkdown from 'react-markdown';
import { Search, History, Trash2, Zap, Copy, Download, Loader2 } from 'lucide-react';
import './App.css';

function App() {
  const [topic, setTopic] = useState('');
  const [depth, setDepth] = useState('medium');
  const [summary, setSummary] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  const [history, setHistory] = useState([]);

  // Load history from local storage on mount
  useEffect(() => {
    const saved = JSON.parse(localStorage.getItem('search_history') || '[]');
    setHistory(saved);
  }, []);

  const handleSubmit = async (e, historicalTopic = null) => {
    if (e) e.preventDefault();
    const queryTopic = historicalTopic || topic;
    
    setLoading(true);
    setError('');
    setSummary('');

    try {
      const response = await axios.post('http://localhost:8000/api/search/', {
        topic: queryTopic,
        depth,
      });
      
      const newSummary = response.data.summary;
      setSummary(newSummary);

      // Update History
      if (!historicalTopic) {
        const newHistory = [queryTopic, ...history.filter(h => h !== queryTopic)].slice(0, 10);
        setHistory(newHistory);
        localStorage.setItem('search_history', JSON.stringify(newHistory));
      }
    } catch (err) {
      setError(err.response?.data?.error || 'Service is temporarily unavailable');
    } finally {
      setLoading(false);
    }
  };

  const clearHistory = () => {
    setHistory([]);
    localStorage.removeItem('search_history');
  };

  return (
    <div className="app-container">
      {/* Sidebar */}
      <aside className="sidebar">
        <h3><History size={18} /> Recent Research</h3>
        <div className="history-list">
          {history.map((item, i) => (
            <div key={i} className="history-item" onClick={() => { setTopic(item); handleSubmit(null, item); }}>
              {item}
            </div>
          ))}
        </div>
        <button className="clear-btn" onClick={clearHistory}>
          <Trash2 size={14} style={{ marginRight: '5px' }} /> Clear History
        </button>
      </aside>

      {/* Main Content */}
      <main className="main-content">
        <h1 className="header-title">Agentic Insight Scraper</h1>
        <p className="header-subtitle">Deep web research & summarization powered by Tavily + Gemini</p>

        <form className="search-container" onSubmit={handleSubmit}>
          <div className="search-input-wrapper">
            <Search size={20} color="#64748b" />
            <input
              type="text"
              placeholder="What do you want to research today?"
              value={topic}
              onChange={(e) => setTopic(e.target.value)}
              required
            />
          </div>
          <select className="depth-select" value={depth} onChange={(e) => setDepth(e.target.value)}>
            <option value="less">Quick Overview</option>
            <option value="medium">Balanced Scan</option>
            <option value="high">Deep Analysis</option>
          </select>
          <button type="submit" className="research-btn" disabled={loading}>
            {loading ? <Loader2 className="spinner" size={20} /> : <Zap size={20} />}
            {loading ? 'Researching...' : 'Research'}
          </button>
        </form>

        {error && <div className="error-box">âŒ {error}</div>}

        {summary && (
          <div className="result-card">
            <div className="result-header">
              <div>
                <h2>Research Results</h2>
                <div className="status-indicator">
                  {depth === 'high' ? 'High Intensity Scan Complete' : 'Standard Insight Generated'}
                </div>
              </div>
              <div className="action-buttons">
                <button className="icon-btn" title="Copy to clipboard" onClick={() => navigator.clipboard.writeText(summary)}>
                  <Copy size={18} />
                </button>
                <button className="icon-btn" title="Download Markdown">
                  <Download size={18} />
                </button>
              </div>
            </div>
            <div className="markdown-body">
              <ReactMarkdown>{summary}</ReactMarkdown>
            </div>
          </div>
        )}
      </main>
    </div>
  );
}

export default App;


================================================
FILE: frontend/src/index.css
================================================
/* frontend/src/index.css */
:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  color-scheme: dark;
}

body {
  margin: 0;
  padding: 0;
  background-color: #0b0f1a; /* Matches the dark background */
  overflow-x: hidden;
}


================================================
FILE: frontend/src/main.jsx
================================================
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

